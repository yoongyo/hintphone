{% extends 'base.html' %}
{% block content %}
{% load static %}

<script type="text/javascript" src="{% static 'qr/js/jquery.qrcode.min.js' %}"></script>

<div class="container text-center my-5">
    <form action="" method="get">
        {% csrf_token %}
        <input class="form-control" name="id" value="{{ id }}" id="id" type="text" placeholder="ID를 입력해주세요">
        <br>
        <input class="form-control" name="theme" value="{{ theme }}" id="theme" type="text" placeholder="테마 이름을 입력해주세요">
        <br>
        <input class="form-control" name="hint" value="{{ hint }}" id="hint" type="text" placeholder="힌트 번호를 입력해주세요">
        <br>
        <button type="submit" class="form-control btn btn-default my-4" style="border-color: white;color:white">ENTER</button>
    </form>

    <h1 class="m-3" style="color:white;">QR코드 출력</h1>
    <div style="border:1px solid white;height:130px;width:130px;margin:auto" id="gcDiv">
    </div>
    <h3 style="margin:0;background-color:black;color:white;">HINT QR코드</h3>
    <h4 class="m-3" style="color: white">{{ id }} / {{ theme }} / {{ hint }}</h4>
</div>



<script charset="utf-8">
    var id = "{{ id }}";
    var theme = "{{ theme }}";
    var hint = "{{ hint }}";
    var encode_theme = encodeURI(theme).replace("%2F", "/");
    jQuery("#gcDiv").qrcode({   //qrcode 시작
        {% if id %}
        width: 128,
        height: 128,
        text: "http://127.0.0.1:8000/hint/{{ id }}/" +encode_theme+"/{{ hint }}"
        {% endif %}
    });
</script>

{% endblock %}